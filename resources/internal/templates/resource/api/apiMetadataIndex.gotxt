import { all } from '$lib/{{ .Resource }}/load{{ .Name | ToVariableName | Capitalize }}';
import { error } from '@sveltejs/kit';

/** @type {import('@sveltejs/kit').RequestHandler} */
export async function GET() {
	const data = await all();
	const body = data.map((item) => ({
		...item
	}));

	if (!body) {
		throw error(404, 'Nothing here yet');
	}

	return new Response(JSON.stringify(body));
}
